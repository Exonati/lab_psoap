# Исследование сетевых параметров публичных DNS серверов

## Цель работы

Проанализировать сетевые параметры публичных DNS серверов, сделать мотивированный вывод о предпочтительных серверах

## Используемое ПО

1.  Rstudio IDE
2. `traceroute/tracert`
3. `ping`
4. 2ip

## Исследуемые провайдеры DNS

1. Google Public DNS - 8.8.8.8
2. Cloudflare DNS - 1.1.1.1
3. OpenDNS - 208.67.220.220
4. DNS вашего провайдера - 77.73.24.2


## Ход работы

1. По исследуемым серверам собрать следующие данные:
    - маршрут
    - местоположение каждого узла маршрута к DNS-серверу
    - организацию, владеющую каждым узлом маршрута к DNS-серверу
    - среднюю RTT к DNS-серверу
2. Выделить те узлы маршрута, которые вносят наибольшую временную задержку при передаче
3. Сравнить сетевые параметры DNS серверов

Google Public DNS

```{r cache=TRUE}
system("tracert 8.8.8.8", intern = TRUE)
```


| № |1 time|2 time|3 time|                         Узел                   |  Местоположение  |   Организация  | Средняя RTT |Вносит наибольшую задержку |
|:-:|:----:|:----:|:----:|:----------------------------------------------:|:----------------:|:--------------:|:-----------:|:-------------------------:|
| 1 | 3 ms | 1 ms | 1 ms |           router.asus.com [192.168.1.1]        |         Москва   |     Роутер     |      1,7    |                           |
| 2 | 1 ms | 2 ms | 1 ms |                     172.18.0.1                 |         Москва   |Гран При Телеком|      1,3    |                           |
| 3 | 5 ms | 10 ms| 3 ms |           gw-core.gptel.ru [77.73.25.1]        |         Москва   |Гран При Телеком|       6     |                           |
| 4 | 4 ms | 5 ms | 5 ms |                     77.94.162.77               |         Москва   |   Наука-Связь  |      4,7    |                           |
| 5 | 4 ms | 9 ms | 38 ms|ae3-nostromo-mtt-msk.naukanet.ru [77.94.160.52] |         Москва   |   Наука-Связь  |       17    |                           |
| 6 | 2 ms | 12 ms| 5 ms |                     209.85.148.20              |          USA     |    Google LLC  |      6,3    |                           |
| 7 | 13 ms| 17 ms| 13 ms|                   108.170.250.130              |Mountain View, USA|    Google LLC  |     14,3    |                           |
| 8 | 27 ms| 21 ms| 28 ms|                    209.85.255.136              |     United States|    Google LLC  |     25,3    |             да            |
| 9 | 25 ms| 21 ms| 21 ms|                     172.253.65.82              |     United States|    Google LLC  |     22,3    |             да            |
| 10| 29 ms| 21 ms| 21 ms|                    108.170.233.161             |     United States|    Google LLC  |     23,7    |             да            |
| 11|   *  |   *  |   *  | Request timed out.|                                               |                |             |                           |
| 12|   *  |   *  |   *  | Request timed out.|                                               |                |             |                           |
| 13|   *  |   *  |   *  | Request timed out.|                                               |                |             |                           |
| 14|   *  |   *  |   *  | Request timed out.|                                               |                |             |                           |
| 15|   *  |   *  |   *  | Request timed out.|                                               |                |             |                           |
| 16|   *  |   *  |   *  | Request timed out.|                                               |                |             |                           |
| 17|   *  |   *  |   *  | Request timed out.|                                               |                |             |                           |
| 18|   *  |   *  |   *  | Request timed out.|                                               |                |             |                           |
| 19|   *  |   *  |   *  | Request timed out.|                                               |                |             |                           |
| 20| 19 ms| 34 ms| 23 ms|                  dns.google [8.8.8.8]          |  Нью-Йорк, USA   |    Google LLC  |     25,3    |

Cloudflare DNS

```{r cache=TRUE}
system("tracert 1.1.1.1", intern = TRUE)
```
| № |1 time|2 time|3 time|                            Узел                        | Местоположение    |        Организация          | Средняя RTT |Вносит наибольшую задержку |
|:-:|:----:|:----:|:----:|:------------------------------------------------------:|:-----------------:|:---------------------------:|:-----------:|:-------------------------:|
| 1 | 4 ms | 7 ms | 3 ms |             router.asus.com [192.168.1.1]              |        Москва     |          Роутер             |      4,7    |                           |
| 2 | 10 ms|   *  | 2 ms |                         172.18.0.1                     |        Москва     |      Гран При Телеком       |       4     |                           |
| 3 | 8 ms | 6 ms | 9 ms |             gw-core.gptel.ru [77.73.25.1]              |        Москва     |      Гран При Телеком       |      7,7    |                           |
| 4 | 5 ms | 5 ms | 2 ms |             gptel145.cln.net [79.98.8.145]             |        Москва     |            CLN              |       4     |                           | 
| 5 | 49 ms| 2 ms | 2 ms |            jun0-mr-vl7.cln.net [79.98.8.254]           |        Москва     |            CLN              |      17,7   |             да            |
| 6 | 47 ms| 93 ms| 25 ms| netnod-ix-ge-a-sth-1500.cloudflare.com [194.68.123.246]|   Borgholm, Sweden|Stockholm Interconnect GigEth|       55    |             да            |
|  7| 26 ms|   *  | 25 ms|                  one.one.one.one [1.1.1.1]             |Research, Australia|       Cloudflare DNS        |       17    |             да            |

OpenDNS

```{r cache=TRUE}
system("tracert 208.67.220.220", intern = TRUE)
```
| № |1 time|2 time|3 time|                    Узел               |   Местоположение |     Организация  | Средняя RTT |Вносит наибольшую задержку |
|:-:|:----:|:----:|:----:|:-------------------------------------:|:----------------:|:----------------:|:-----------:|:-------------------------:|
| 1 |  1 ms|  1 ms|  3 ms|       router.asus.com [192.168.1.1]   |        Москва    |      Роутер      |      1,7    |                           |
| 2 |  2 ms|  1 ms|  6 ms|                 172.18.0.1            |        Москва    | Гран При Телеком |       3     |                           |
| 3 |  2 ms|  2 ms|  6 ms|       gw-core.gptel.ru [77.73.25.1]   |        Москва    | Гран При Телеком |      3,3    |             да            |
| 4 | 13 ms| 12 ms|  2 ms|                77.94.162.77           |Russian Federation|      Nauka-Svyaz |       9     |             да            |
| 5 |   *  |   *  |   *  |Request timed out.|                                       |                  |             |                           |
| 6 |   *  |   *  |   *  |Request timed out.|                                       |                  |             |                           |
| 7 |   *  |   *  |   *  |Request timed out.|                                       |                  |             |                           |
| 8 | 42 ms| 48 ms| 44 ms| resolver2.opendns.com [208.67.220.220]|  San Francisco   |Cisco OpenDNS, LLC|      44,7   |             да            |


DNS вашего провайдера

```{r cache=TRUE}
system("tracert 77.73.24.2", intern = TRUE)
```
| № |1 time|2 time|3 time|             Узел              | Местоположение |         Организация         | Средняя RTT |Вносит наибольшую задержку |
|:-:|:----:|:----:|:----:|:-----------------------------:|:--------------:|:---------------------------:|:-----------:|:-------------------------:|
| 1 | <1 ms| 2 ms |   *  |  router.asus.com [192.168.1.1]|     Москва     |            Роутер           |      0,8    |             да            |
| 2 |  2 ms| 9 ms |  1 ms|              172.18.0.1       |     Москва     |        Гран При Телеком     |       4     |             да            |
| 3 |  *   | 2 ms |   *  | gw-aggr1.gptel.ru [77.73.25.6]|     Москва     |        Гран При Телеком     |      0,7    |                           |
| 4 | 11 ms| 1 ms |  5 ms|       ns.gptel.ru [77.73.24.2]|     Москва     |network for GRANDPRIX Telecom|      5,7    |             да            |


```{r, echo=FALSE}
x <- c(0.5,1,1.5,2,2.5,3,3.5,4,4.5,5,5.5,6,6.5,7,7.5,8,8.5,9,9.5,10,10.5,11,11.5,12,12.5,13,13.5,14,14.5,15,15.5,16,16.5,17,17.5,18,18.5,19,19.5,20,20.5,21,21.5,22,22.5,23,23.5,24,24.5,25,25.5,26,26.5,27,27.5,28,28.5,29,29.5,30,30.5,31,31.5,32,32.5,33,33.5,34,34.5,35,35.5,36,36.5,37,37.5,38,38.5,39,39.5,40,40.5,41,41.5,42,42.5,43,43.5,44,44.5,45,45.5,46,46.5,47,47.5,48,48.5,49,49.5,50,50.5,51,51.5,52,52.5,53,53.5,54,54.5,55,55.5,56,56.5,57,57.5,58,58.5,59,59.5)
y <- c(0.5,1,1.5,2,2.5,3,3.5,4,4.5,5,5.5,6,6.5,7,7.5,8,8.5,9,9.5,10,10.5,11,11.5,12,12.5,13,13.5,14,14.5,15,15.5,16,16.5,17,17.5,18,18.5,19,19.5,20,20.5,21,21.5,22,22.5,23,23.5,24,24.5,25,25.5,26,26.5,27,27.5,28,28.5,29,29.5,30,30.5,31,31.5,32,32.5,33,33.5,34,34.5,35,35.5,36,36.5,37,37.5,38,38.5,39,39.5,40,40.5,41,41.5,42,42.5,43,43.5,44,44.5,45,45.5,46,46.5,47,47.5,48,48.5,49,49.5,50,50.5,51,51.5,52,52.5,53,53.5,54,54.5,55,55.5,56,56.5,57,57.5,58,58.5,59,59.5)
GooglePublicDNSy <- c(1.7,1.3,6,4.7,17,6.3,14.3,25.3,22.3,23.7,25.3)
GooglePublicDNSx <- c(1,2,3,4,5,6,7,8,9,10,11)
CloudflareDNSy <- c(4.7,4,7.7,4,17.7,55,17)
CloudflareDNSx <- c(1,2,3,4,5,6,7)
OpenDNSy <- c(1.7,3,3.3,9,44.7)
OpenDNSx <- c(1,2,3,4,5)
GrandprixTelecomy <- c(0.8,4,0.7,5.7)
GrandprixTelecomx <- c(1,2,3,4)
plot(x,y, xlab = "Шаг", ylab = "RTT",type = "n")
points(GooglePublicDNSx,GooglePublicDNSy,col = "red3")
lines(GooglePublicDNSx,GooglePublicDNSy,col = "red3")
points(CloudflareDNSx,CloudflareDNSy,col = "forestgreen")
lines(CloudflareDNSx,CloudflareDNSy,col = "forestgreen")
points(OpenDNSx,OpenDNSy,col = "steelblue")
lines(OpenDNSx,OpenDNSy,col = "steelblue")
points(GrandprixTelecomx,GrandprixTelecomy)
lines(GrandprixTelecomx,GrandprixTelecomy)
```

## Оценка результата

Большее время ответа при обращении к OpenDNS, меньше всего - к Granprix Telecom.

## Вывод

В данной работе я научился строить маршруты к узлам, рассчитывать RTT, строить графики по данным.